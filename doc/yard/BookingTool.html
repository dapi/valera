<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: BookingTool
  
    &mdash; Valera API Documentation
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "BookingTool";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (B)</a> &raquo;
    
    
    <span class="title">BookingTool</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: BookingTool
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">RubyLLM::Tool</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">RubyLLM::Tool</li>
          
            <li class="next">BookingTool</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="ErrorLogger.html" title="ErrorLogger (module)">ErrorLogger</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>app/tools/booking_tool.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>LLM инструмент для создания заявок на автосервис</p>

<p>Инструмент определяет является ли сообщение клиента заявкой на услугу и создает
соответствующую запись в системе. Автоматически извлекает данные о клиенте,
автомобиле и услугах, отправляет уведомления и отслеживает аналитику.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'><p>Базовое использование</p>
</div></h5>
      
      <pre class="example code"><code><span class='id identifier rubyid_tool'>tool</span> <span class='op'>=</span> <span class='const'>BookingTool</span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="BookingTool#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>telegram_user:</span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='label'>chat:</span> <span class='id identifier rubyid_chat'>chat</span><span class='rparen'>)</span>
<span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_tool'>tool</span><span class='period'>.</span><span class='id identifier rubyid_execute'>execute</span><span class='lparen'>(</span>
  <span class='label'>customer_name:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Иван Петров</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>customer_phone:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>+7(900)123-45-67</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>car_brand:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Toyota</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>car_model:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Camry</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>required_services:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Замена масла, диагностика тормозов</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>dialog_context:</span> <span class='lbrace'>{</span> <span class='label'>date:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2024-12-01</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>time:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>14:00</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='label'>details:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Заявка #123: Ivan Petrov, Toyota Camry, замена масла</span><span class='tstring_end'>&quot;</span></span>
<span class='rparen'>)</span></code></pre>
    
  </div>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li>User Story по созданию заявок</li>
    
      <li>Техническая реализация</li>
    
      <li><span class='object_link'><a href="AnalyticsService.html" title="AnalyticsService (class)">для отслеживания событий</a></span></li>
    
  </ul>
<p class="tag_title">Author:</p>
<ul class="author">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>Valera Team</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>0.1.0</p>
</div>
      
    </li>
  
</ul>

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#execute-instance_method" title="#execute (instance method)">#<strong>execute</strong>(**meta)  &#x21d2; RubyLLM::Content </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Выполняет создание заявки на основе извлеченных данных.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(telegram_user:, chat:)  &#x21d2; BookingTool </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Инициализирует инструмент с пользователем и чатом.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#log_error-instance_method" title="#log_error (instance method)">#<strong>log_error</strong>(error, context = {})  &#x21d2; Object </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="ErrorLogger.html#log_error-instance_method" title="ErrorLogger#log_error (method)">ErrorLogger</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Инстанс-методы для включения в классы.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(telegram_user:, chat:)  &#x21d2; <tt><span class='object_link'><a href="" title="BookingTool (class)">BookingTool</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Инициализирует инструмент с пользователем и чатом</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_tool'>tool</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="BookingTool (class)">BookingTool</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span>
  <span class='label'>telegram_user:</span> <span class='const'><span class='object_link'><a href="TelegramUser.html" title="TelegramUser (class)">TelegramUser</a></span></span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='comma'>,</span>
  <span class='label'>chat:</span> <span class='const'><span class='object_link'><a href="Chat.html" title="Chat (class)">Chat</a></span></span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
<span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>telegram_user</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="TelegramUser.html" title="TelegramUser (class)">TelegramUser</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>пользователь Telegram</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>chat</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Chat.html" title="Chat (class)">Chat</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>чат для сохранения контекста</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>0.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


60
61
62
63
64</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/tools/booking_tool.rb', line 60</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='label'>telegram_user:</span><span class='comma'>,</span> <span class='label'>chat:</span><span class='rparen'>)</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='rparen'>)</span>
  <span class='ivar'>@telegram_user</span> <span class='op'>=</span> <span class='id identifier rubyid_telegram_user'>telegram_user</span>
  <span class='ivar'>@chat</span> <span class='op'>=</span> <span class='id identifier rubyid_chat'>chat</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="execute-instance_method">
  
    #<strong>execute</strong>(**meta)  &#x21d2; <tt>RubyLLM::Content</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note todo">
    <strong>TODO:</strong>
    <div class='inline'><p>Реализовать отправку в административный чат</p>
</div>
  </div>


  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>Автоматически отслеживает время выполнения и аналитику</p>
</div>
  </div>

<p>Выполняет создание заявки на основе извлеченных данных</p>

<p>Создает запись в базе данных, отправляет аналитические события
и формирует ответ для пользователя.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'><p>Успешное создание заявки</p>
</div></h5>
      
      <pre class="example code"><code><span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_execute'>execute</span><span class='lparen'>(</span>
  <span class='label'>customer_name:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Иван</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>car_brand:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Toyota</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='label'>dialog_context:</span> <span class='lbrace'>{</span> <span class='label'>date:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2024-12-01</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='label'>details:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Заявка на ТО</span><span class='tstring_end'>&quot;</span></span>
<span class='rparen'>)</span>
<span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_content'>content</span> <span class='comment'>#=&gt; &quot;Заявка под номером 123 отправлена администратору&quot;</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>meta</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>параметры заявки</p>
</div>
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>**meta</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:customer_name</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>имя клиента</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:customer_phone</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>телефон клиента</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:car_brand</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>марка автомобиля</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:car_model</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>модель автомобиля</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:car_year</span>
          <span class="type">(<tt>Integer</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>год выпуска</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:required_services</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>необходимые услуги</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:cost_calculation</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>расчет стоимости</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:dialog_context</span>
          <span class="type">(<tt>Hash</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>контекст диалога</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:details</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>детали заявки в Markdown</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>RubyLLM::Content</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>ответ системы с номером заявки или ошибкой</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>StandardError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>при ошибке создания заявки</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>0.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/tools/booking_tool.rb', line 93</span>

<span class='kw'>def</span> <span class='id identifier rubyid_execute'>execute</span><span class='lparen'>(</span><span class='op'>**</span><span class='id identifier rubyid_meta'>meta</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_start_time'>start_time</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span>

  <span class='id identifier rubyid_booking'>booking</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Booking.html" title="Booking (class)">Booking</a></span></span>
            <span class='period'>.</span><span class='id identifier rubyid_create!'>create!</span><span class='lparen'>(</span>
              <span class='label'>meta:</span><span class='comma'>,</span>
              <span class='label'>telegram_user:</span> <span class='ivar'>@telegram_user</span><span class='comma'>,</span>
              <span class='label'>chat:</span> <span class='ivar'>@chat</span><span class='comma'>,</span>
              <span class='label'>details:</span> <span class='id identifier rubyid_meta'>meta</span><span class='lbracket'>[</span><span class='symbol'>:details</span><span class='rbracket'>]</span><span class='comma'>,</span>
              <span class='label'>context:</span> <span class='id identifier rubyid_meta'>meta</span><span class='lbracket'>[</span><span class='symbol'>:dialog_context</span><span class='rbracket'>]</span>
            <span class='rparen'>)</span>

  <span class='comment'># Track booking creation analytics
</span>  <span class='const'><span class='object_link'><a href="AnalyticsService.html" title="AnalyticsService (class)">AnalyticsService</a></span></span><span class='period'>.</span><span class='id identifier rubyid_track_conversion'><span class='object_link'><a href="AnalyticsService.html#track_conversion-class_method" title="AnalyticsService.track_conversion (method)">track_conversion</a></span></span><span class='lparen'>(</span>
    <span class='const'><span class='object_link'><a href="AnalyticsService.html" title="AnalyticsService (class)">AnalyticsService</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="AnalyticsService/Events.html" title="AnalyticsService::Events (module)">Events</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="AnalyticsService/Events.html#BOOKING_CREATED-constant" title="AnalyticsService::Events::BOOKING_CREATED (constant)">BOOKING_CREATED</a></span></span><span class='comma'>,</span>
    <span class='ivar'>@telegram_user</span><span class='period'>.</span><span class='id identifier rubyid_chat_id'>chat_id</span><span class='comma'>,</span>
    <span class='lbrace'>{</span>
      <span class='label'>booking_id:</span> <span class='id identifier rubyid_booking'>booking</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span>
      <span class='label'>services_count:</span> <span class='id identifier rubyid_extract_services_count'>extract_services_count</span><span class='lparen'>(</span><span class='id identifier rubyid_meta'>meta</span><span class='rparen'>)</span><span class='comma'>,</span>
      <span class='label'>estimated_total:</span> <span class='id identifier rubyid_extract_estimated_total'>extract_estimated_total</span><span class='lparen'>(</span><span class='id identifier rubyid_meta'>meta</span><span class='rparen'>)</span><span class='comma'>,</span>
      <span class='label'>processing_time_ms:</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span> <span class='op'>-</span> <span class='id identifier rubyid_start_time'>start_time</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='int'>1000</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='comma'>,</span>
      <span class='label'>user_segment:</span> <span class='id identifier rubyid_determine_user_segment'>determine_user_segment</span><span class='lparen'>(</span><span class='ivar'>@telegram_user</span><span class='period'>.</span><span class='id identifier rubyid_chat_id'>chat_id</span><span class='rparen'>)</span><span class='comma'>,</span>
      <span class='label'>customer_name:</span> <span class='id identifier rubyid_meta'>meta</span><span class='lbracket'>[</span><span class='symbol'>:customer_name</span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='label'>car_brand:</span> <span class='id identifier rubyid_meta'>meta</span><span class='lbracket'>[</span><span class='symbol'>:car_brand</span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='label'>car_model:</span> <span class='id identifier rubyid_meta'>meta</span><span class='lbracket'>[</span><span class='symbol'>:car_model</span><span class='rbracket'>]</span>
    <span class='rbrace'>}</span>
  <span class='rparen'>)</span>

  <span class='const'>RubyLLM</span><span class='op'>::</span><span class='const'>Content</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Заявка под номером </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_booking'>booking</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'> отправлена администратору</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>rescue</span> <span class='const'>StandardError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_log_error'>log_error</span> <span class='id identifier rubyid_e'>e</span>
  <span class='const'><span class='object_link'><a href="AnalyticsService.html" title="AnalyticsService (class)">AnalyticsService</a></span></span><span class='period'>.</span><span class='id identifier rubyid_track_error'><span class='object_link'><a href="AnalyticsService.html#track_error-class_method" title="AnalyticsService.track_error (method)">track_error</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='comma'>,</span> <span class='lbrace'>{</span>
    <span class='label'>chat_id:</span> <span class='ivar'>@telegram_user</span><span class='period'>.</span><span class='id identifier rubyid_chat_id'>chat_id</span><span class='comma'>,</span>
    <span class='label'>context:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>booking_tool_execution</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='label'>booking_data:</span> <span class='id identifier rubyid_meta'>meta</span>
  <span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='const'>RubyLLM</span><span class='op'>::</span><span class='const'>Content</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ошибка при обработке заявки: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="log_error-instance_method">
  
    #<strong>log_error</strong>(error, context = {})  &#x21d2; <tt>Object</tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="ErrorLogger.html#log_error-instance_method" title="ErrorLogger#log_error (method)">ErrorLogger</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Инстанс-методы для включения в классы</p>


  </div>
</div>
<div class="tags">
  

</div>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Oct 27 01:10:03 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.4.2).
</div>

    </div>
  </body>
</html>