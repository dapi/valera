<% if existing_action?(collection_presenter.resource_name, :edit) %>
  <td class="cell-label--action-button"><%= link_to(
    t("administrate.actions.edit"),
    [:edit, namespace, resource],
    class: "action-edit",
  ) if accessible_action?(resource, :edit) %></td>
<% end %>

<% if existing_action?(collection_presenter.resource_name, :destroy) %>
  <td class="cell-label--action-button"><%= button_to(
    t("administrate.actions.destroy"),
    [namespace, resource],
    class: "link link--danger",
    method: :delete,
    data: { turbo_confirm: t("administrate.actions.confirm") }
  ) if accessible_action?(resource, :destroy) %></td>
<% end %>

<% if (original_admin_user || current_admin_user)&.superuser? && resource != current_admin_user %>
  <td class="cell-label--action-button">
    <%= button_to(
      t("admin.impersonations.impersonate_button"),
      impersonate_admin_admin_user_path(resource),
      method: :post,
      class: "link",
      data: { turbo_confirm: t("admin.impersonations.confirm", name: resource.name.presence || resource.email) }
    ) %>
  </td>
<% end %>
